# ملاحظات النشر النهائية لتطبيق يلا رايد

## نظرة عامة

تطبيق يلا رايد هو تطبيق متكامل لخدمة النقل يجمع بين واجهة الراكب والسائق في تطبيق واحد، مع لوحة تحكم إدارية شاملة. تم تطوير التطبيق باستخدام Flutter مع تكامل مع خدمات Supabase للتخزين والمصادقة، Mapbox للخرائط، OneSignal للإشعارات، وزين كاش للمدفوعات.

## متطلبات النظام

### للمستخدمين
- **نظام التشغيل**: Android 6.0 أو أحدث / iOS 12 أو أحدث
- **الذاكرة**: 2 جيجابايت RAM على الأقل
- **المساحة**: 100 ميجابايت من المساحة الحرة
- **الاتصال**: اتصال إنترنت مستقر (3G/4G/WiFi)
- **الأذونات المطلوبة**: الموقع، الكاميرا، الإشعارات، التخزين

### للمطورين
- **Flutter**: الإصدار 3.10.0 أو أحدث
- **Dart**: الإصدار 3.0.0 أو أحدث
- **Android Studio**: الإصدار الأحدث
- **Xcode**: الإصدار 14.0 أو أحدث (لتطوير iOS)
- **Git**: للتحكم في الإصدارات

## الخدمات الخارجية

### Supabase
- **الغرض**: قاعدة البيانات والمصادقة وتخزين الملفات
- **الإعداد**: تم تكوين جميع الجداول والعلاقات والوظائف المخزنة
- **ملاحظات**: يجب تحديث مفاتيح API في ملف `.env` قبل النشر

### Mapbox
- **الغرض**: خدمات الخرائط والتوجيه
- **الإعداد**: تم تكوين الخرائط والأساليب المخصصة
- **ملاحظات**: يجب تحديث مفتاح API في ملف `.env` قبل النشر

### OneSignal
- **الغرض**: إدارة الإشعارات
- **الإعداد**: تم تكوين الإشعارات لكل من الراكب والسائق
- **ملاحظات**: يجب تحديث معرف التطبيق في ملف `.env` قبل النشر

### Resend
- **الغرض**: إرسال رسائل البريد الإلكتروني
- **الإعداد**: تم تكوين قوالب البريد الإلكتروني
- **ملاحظات**: يجب تحديث مفتاح API في ملف `.env` قبل النشر

### زين كاش
- **الغرض**: معالجة المدفوعات
- **الإعداد**: تم تنفيذ واجهة الدفع
- **ملاحظات**: يجب استبدال عمليات المحاكاة بالتكامل الفعلي قبل النشر

## هيكل المشروع

```
yalla_ride_app/
├── android/                 # ملفات Android الأصلية
├── ios/                     # ملفات iOS الأصلية
├── lib/
│   ├── config/              # ملفات التكوين
│   ├── constants/           # الثوابت والقيم الثابتة
│   ├── models/              # نماذج البيانات
│   ├── screens/
│   │   ├── admin/           # شاشات لوحة تحكم الإدارة
│   │   ├── auth/            # شاشات المصادقة
│   │   ├── common/          # شاشات مشتركة
│   │   ├── driver/          # شاشات السائق
│   │   └── passenger/       # شاشات الراكب
│   ├── services/            # خدمات التطبيق
│   ├── utils/               # أدوات مساعدة
│   ├── widgets/             # عناصر واجهة المستخدم القابلة لإعادة الاستخدام
│   └── main.dart            # نقطة الدخول الرئيسية
├── assets/                  # الصور والخطوط والموارد الأخرى
├── test/                    # اختبارات الوحدة والتكامل
├── .env                     # ملف البيئة (غير مضمن في التحكم بالإصدار)
├── pubspec.yaml             # تبعيات المشروع
└── README.md                # توثيق المشروع
```

## خطوات النشر

### 1. إعداد البيئة

1. استنساخ المستودع:
   ```bash
   git clone https://github.com/your-organization/yalla-ride-app.git
   cd yalla-ride-app
   ```

2. تثبيت التبعيات:
   ```bash
   flutter pub get
   ```

3. إنشاء ملف `.env` وتعبئته بالمفاتيح المناسبة:
   ```
   SUPABASE_URL=https://your-supabase-url.supabase.co
   SUPABASE_ANON_KEY=your-supabase-anon-key
   MAPBOX_ACCESS_TOKEN=your-mapbox-access-token
   ONESIGNAL_APP_ID=your-onesignal-app-id
   RESEND_API_KEY=your-resend-api-key
   ```

### 2. بناء التطبيق

#### للأندرويد:
```bash
flutter build apk --release
# أو للحصول على حزمة أصغر حجماً
flutter build appbundle --release
```

#### للآيفون:
```bash
flutter build ios --release
# ثم افتح مشروع Xcode وقم بالنشر من خلاله
```

### 3. نشر لوحة تحكم الإدارة

لوحة تحكم الإدارة مدمجة في التطبيق نفسه، ولكن يمكن أيضاً نشرها كتطبيق ويب منفصل:

```bash
flutter build web --release
# نسخ المحتوى إلى خادم الويب
```

## ملاحظات مهمة

1. **الأمان**: تأكد من تحديث جميع مفاتيح API وعدم مشاركتها في التحكم بالإصدار.

2. **قاعدة البيانات**: قم بإجراء نسخ احتياطي منتظم لقاعدة البيانات.

3. **الإشعارات**: تأكد من تكوين OneSignal بشكل صحيح لكل من Android و iOS.

4. **المدفوعات**: قم باختبار دورة المدفوعات بالكامل في بيئة الاختبار قبل النشر.

5. **التوافق**: تم اختبار التطبيق على مجموعة متنوعة من الأجهزة، ولكن قد تكون هناك حاجة لمزيد من الاختبار على أجهزة محددة.

6. **الأداء**: راقب أداء التطبيق بعد النشر، خاصة استخدام الذاكرة وأداء الخريطة.

7. **التحديثات**: خطط لتحديثات دورية لإصلاح الأخطاء وإضافة ميزات جديدة.

## الدعم الفني

للحصول على الدعم الفني أو الإبلاغ عن المشكلات، يرجى التواصل عبر:

- البريد الإلكتروني: support@yallaride.app
- الهاتف: +9647818141797

## الإصدارات المستقبلية

تتضمن الخطط المستقبلية للتطبيق:

1. دعم اللغة الإنجليزية
2. تكامل مع المزيد من بوابات الدفع
3. ميزات التنبؤ بالطلب
4. تحسينات في خوارزمية مطابقة السائق والراكب
5. تطبيق سطح المكتب للوحة تحكم الإدارة
